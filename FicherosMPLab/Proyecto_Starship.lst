MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;Control Starship
                      00002 ;Guillermo José Belda García UPCT 2024
                      00003 
                      00004 
Warning[205]: Found directive in column 1. (list)
                      00005 list p=16F876A
                      00006 #include <p16f876a.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC16F876A processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2011 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00513         LIST
                      00007 
Warning[205]: Found directive in column 1. (__CONFIG)
2007   3F79           00008 __CONFIG _WDT_OFF & _XT_OSC & _LVP_OFF
                      00009 
                      00010 ;ASM OUTPUTS REGISTERS
Warning[207]: Found label after column 1. (OUT0)
  00000030            00011         OUT0            EQU             0x30
Warning[207]: Found label after column 1. (OUT1)
  00000031            00012         OUT1            EQU             0x31    
                      00013 ;ASM STATE REGISTERS
Warning[207]: Found label after column 1. (STATE)
  00000040            00014         STATE           EQU             0x40    ; STATE Register
Warning[207]: Found label after column 1. (NEXTSTATE)
  00000041            00015         NEXTSTATE       EQU             0x41    ; NEXTSTATE Register
                      00016 ;ASM STATES (Literal)
Warning[207]: Found label after column 1. (St0_CD)
  00000000            00017         St0_CD                  EQU             .0              
Warning[207]: Found label after column 1. (St1_FD)
  0000000D            00018         St1_FD                  EQU             .13             
Warning[207]: Found label after column 1. (St2_EI)
  00000002            00019         St2_EI                  EQU             .2              
Warning[207]: Found label after column 1. (St3_MQ)
  00000003            00020         St3_MQ                  EQU             .3
Warning[207]: Found label after column 1. (St4_SS)
  00000004            00021         St4_SS                  EQU             .4
Warning[207]: Found label after column 1. (St5_OF)
  00000005            00022         St5_OF                  EQU             .5
Warning[207]: Found label after column 1. (St6_RE)
  00000006            00023         St6_RE                  EQU             .6
Warning[207]: Found label after column 1. (St7_EI)
  00000007            00024         St7_EI                  EQU             .7
Warning[207]: Found label after column 1. (St8_ES)
  00000008            00025         St8_ES                  EQU             .8
Warning[207]: Found label after column 1. (St9_SL)
  00000009            00026         St9_SL                  EQU             .9
Warning[207]: Found label after column 1. (St10_FTS)
  0000000A            00027         St10_FTS                EQU             .10
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (ResultadoADC)
  0000002B            00028         ResultadoADC    EQU             .43
                      00029 ;Contadores de tiempo(Estados)
Warning[207]: Found label after column 1. (Contador_Tiempo)
  0000002A            00030     Contador_Tiempo     EQU         .42
                      00031         ;; 4s = 80 ciclos
                      00032         ;; 8s = 160 ciclos
                      00033         ;;10s = 200 ciclos
                      00034         ;;12s = 240 ciclos
Warning[205]: Found directive in column 1. (org)
0000                  00035 org 0
0000   2805           00036                         goto    inicio
                      00037     
                      00038 ; Definición de vectores de interrupción
Warning[205]: Found directive in column 1. (org)
0004                  00039 org 4
0004   2824           00040                 goto InterTMR0
                      00041 
                      00042 ; Inicialización del programa
Warning[205]: Found directive in column 1. (org)
0005                  00043 org 5
0005                  00044 inicio          
                      00045 
                      00046 ; Configuración Puertos y habilitación de interrupciones
                      00047 ; Configuración de Timer1
                      00048 ;El TMR1 trabaja con oscilador interno Fosc/4 y un preescaler de 1:256. Si se trabaja a una frecuencia
                      00049 ;de 4 MHz, el TMR0 deberá cargarse con 6250 para que provocar interrupción a los 0.05s
                      00050 ;(195 * 256 * 1 =50000uS=0.05s")
0005   1283           00051                         BCF STATUS, RP0 ;
0006   1303           00052                         BCF STATUS, RP1 ; Banco 0
0007   0185           00053                         CLRF PORTA ; Iniciamos el  PORTA 
0008   0186           00054                         CLRF PORTB ; Iniciamos el PORTB
0009   0187           00055                         CLRF PORTC ; Iniciamos el PORTC
000A   3009           00056                         MOVLW b'00001001'
000B   009F           00057                         MOVWF ADCON0
000C   1683           00058                 BSF STATUS, RP0 ; Me muevo al banco 1
                      00059                         
000D   3004           00060                         MOVLW b'00000100' ; bits de configuración del convertidor A/D
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000E   009F           00061                         MOVWF ADCON1 ; 
000F   3032           00062                         MOVLW b'00110010'       ; 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0010   0085           00063                         MOVWF TRISA     ; 
                      00064 
                      00065 ;;                      MOVLW 0x06 ; 
                      00066 ;;                      MOVWF ADCON1 ; 
0011   3000           00067                         MOVLW b'00000000'       ; 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0012   0086           00068                         MOVWF TRISB 
                      00069 
                      00070 
                      00071 
0013   3000           00072                         MOVLW b'00000000'       
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0014   0087           00073                         MOVWF TRISC     
                      00074 
                      00075 
0015   1283           00076                         bcf     STATUS,RP0
0016   1683           00077                         BSF STATUS, RP0 ; Me muevo al banco 1
0017   3007           00078                         movlw   0x07    ;Habilita TMR0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0018   0081           00079                         movwf   OPTION_REG
                      00080 
0019   1283           00081                         bcf             STATUS,RP0
001A   303C           00082                         movlw   .60             ;; 256-196
001B   0081           00083                         movwf   TMR0
                      00084 
001C   1683           00085                         BSF STATUS, RP0 ; Me muevo al banco 1
001D   30E0           00086                         movlw   0xE0            ;;Pasar a hexa
001E   008B           00087                         movwf   INTCON
                      00088                         
001F   1283           00089                         BCF STATUS, RP0 ;
0020   1303           00090                         BCF STATUS, RP1 ; Banco 0
                      00091 
                      00092 ; Inicializamos el nuevo estado                                                                         
0021   3000           00093                         movlw   .0                              
0022   00C1           00094                         movwf   NEXTSTATE               ;=St0
                      00095                         
0023   2823           00096 loop            goto loop
                      00097 
                      00098 ; ######################################################################################    
                      00099 ; Rutina de interrupción del Timer0
0024                  00100 InterTMR0       
                      00101                         ;;incf  Contador_Tiempo
0024   0A2A           00102                         incf    Contador_Tiempo, W
0025   00AA           00103                         movwf   Contador_Tiempo
0026   303C           00104                         movlw   0x3C
0027   0081           00105                         movwf   TMR0                            
0028   110B           00106                         bcf             INTCON,TMR0IF   ;Borramos el flag del TMR0      
0029   2117           00107                         call mostrar_numero
                      00108 
                      00109 
                      00110 
                      00111 
                      00112 
                      00113 ;#################################
                      00114 ;### MAQUINA DE ESTADOS ###
                      00115 ;#################################
                      00116 ;### ACTUALIZAMOS LA TABLA
002A   0841           00117                         movf    NEXTSTATE,W
002B   00C0           00118                         movwf   STATE                   ; Update STATE=NEXTSTATE
                      00119         
                      00120 ;### STATE JUMP TABLE ###
002C   3E00           00121                         addlw   .0                              
002D   0D40           00122                         rlf             STATE,W                 
002E   0782           00123                         addwf   PCL,F
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

002F   2046           00124                         call    State0                  
0030   2845           00125                         goto    break
0031   2053           00126                         call    State1                  
0032   2845           00127                         goto    break
0033   2062           00128                         call    State2          
0034   2845           00129                         goto    break
0035   207D           00130                         call    State3
0036   2845           00131                 goto    break
0037   2098           00132                 call    State4
0038   2845           00133                 goto    break
0039   20B3           00134                 call    State5
003A   2845           00135                 goto    break
003B   20C0           00136                 call    State6
003C   2845           00137                 goto    break
003D   20DB           00138                 call    State7
003E   2845           00139                 goto    break
003F   20F6           00140                 call    State8
0040   2845           00141                 goto    break
0041   2107           00142                 call    State9
0042   2845           00143                 goto    break
0043   210F           00144                 call    State10
0044   2845           00145                 goto    break
0045   0009           00146 break           retfie
                      00147 
                      00148 ;###########################ESTADOS######################################
                      00149 ;### State0
0046                  00150 State0          
0046   3000           00151                         movlw   b'00000000'
0047   00B0           00152                         movwf   OUT0            ; 
0048   0087           00153                         movwf   PORTC           
0049   1E85           00154 ST0_N1          btfss   PORTA,5         ;Comprobamos si la entrada 5 está activa
004A   284F           00155                         goto    ST0_N1_NO
004B   284C           00156                         goto    ST0_N1_YES
004C   3001           00157 ST0_N1_YES      movlw   .1 ;St1_FD              ; NEXTSTATE = St1
004D   00C1           00158                         movwf   NEXTSTATE
004E   2851           00159                         goto    ST0_SALIDA
004F   3000           00160 ST0_N1_NO       movlw   St0_CD
0050   00C1           00161                         movwf   NEXTSTATE
0051   01AA           00162 ST0_SALIDA      CLRF    Contador_Tiempo
0052   0008           00163                         return
                      00164 
                      00165 
                      00166 
0053   3018           00167 State1          movlw   b'00011000'
0054   00B0           00168                         movwf   OUT0
0055   0087           00169                         movwf   PORTC
0056   3050           00170                         movlw   .80
0057   022A           00171                         subwf   Contador_Tiempo ,W
0058   1D03           00172                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
0059   285B           00173                         goto    St1_N1_NO
005A   285E           00174                         goto    St1_N1_YES
005B   3001           00175 St1_N1_NO       movlw   .1 ;St1_FD
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

005C   00C1           00176                         movwf   NEXTSTATE
005D   2861           00177                         goto    ST1_SALIDA
005E   3002           00178 St1_N1_YES      movlw   St2_EI
005F   00C1           00179                         movwf   NEXTSTATE
0060   01AA           00180                         CLRF Contador_Tiempo
0061                  00181 ST1_SALIDA      
0061   0008           00182                         return
                      00183 
                      00184 
0062   302C           00185 State2          movlw   b'00101100'
0063   00B0           00186                         movwf   OUT0
0064   0087           00187                         movwf   PORTC
0065   30A0           00188                         movlw   .160
0066   022A           00189                         subwf   Contador_Tiempo ,W
0067   1D03           00190                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
0068   286D           00191                         goto    COND_TIEMPO2_NO
0069   286A           00192                         goto    COND_TIEMPO2_OK
006A   300A           00193 COND_TIEMPO2_OK movlw .10 ;St10_FTS
006B   00C1           00194                         movwf   NEXTSTATE
006C   287B           00195                         goto    ST2_SALIDA      ;Salgo
006D   151F           00196 COND_TIEMPO2_NO bsf ADCON0, GO                          ;#######ComprobaciónADC
Warning[207]: Found label after column 1. (WAIT_FOR_ADC2)
006E                  00197                         WAIT_FOR_ADC2:
006E   191F           00198                                 btfsc   ADCON0, GO   ; Verificar si la conversión está en curso
006F   286E           00199                         goto    WAIT_FOR_ADC2
                      00200 
0070   081E           00201                         movf    ADRESH, W
0071   00AB           00202                         movwf   ResultadoADC
                      00203 ;                       movwf   PORTB
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0072   0870           00204                         movf    b'11110000', W
0073   052B           00205                         andwf   ResultadoADC, W
0074   00AB           00206                         movwf   ResultadoADC
0075   30B0           00207                         movlw   b'10110000'
0076   022B           00208                         subwf   ResultadoADC, W
0077   1D03           00209                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
0078   287C           00210                         goto    ST2_2_SALIDA    
0079   3003           00211                         movlw   .3 ;St3_MQ
007A   00C1           00212                         movwf   NEXTSTATE
007B   01AA           00213 ST2_SALIDA      CLRF Contador_Tiempo
007C                  00214 ST2_2_SALIDA 
007C   0008           00215                         return
                      00216 
                      00217 
                      00218 
                      00219 
007D   3034           00220 State3          movlw   b'00110100'
007E   00B0           00221                         movwf   OUT0
007F   0087           00222                         movwf   PORTC
0080   30C8           00223                         movlw   .200
0081   022A           00224                         subwf   Contador_Tiempo ,W
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0082   1D03           00225                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
0083   2888           00226                         goto    COND_TIEMPO3_NO
0084   2885           00227                         goto    COND_TIEMPO3_OK
0085   300A           00228 COND_TIEMPO3_OK movlw .10 ;St10_FTS
0086   00C1           00229                         movwf   NEXTSTATE
0087   2896           00230                         goto    ST3_SALIDA      ;Salgo
0088   151F           00231 COND_TIEMPO3_NO bsf ADCON0, GO                          ;#######ComprobaciónADC
Warning[207]: Found label after column 1. (WAIT_FOR_ADC3)
0089                  00232                         WAIT_FOR_ADC3:
0089   191F           00233                                 btfsc   ADCON0, GO   ; Verificar si la conversión está en curso
008A   2889           00234                         goto    WAIT_FOR_ADC3
                      00235                         
008B   081E           00236                         movfw   ADRESH
008C   00AB           00237                         movwf   ResultadoADC
                      00238 ;                       movwf   PORTB
008D   30F0           00239                         movlw   b'11110000'
008E   052B           00240                         andwf   ResultadoADC, W
008F   00AB           00241                         movwf   ResultadoADC
0090   30B0           00242                         movlw   b'10110000'
0091   022B           00243                         subwf   ResultadoADC, W
0092   1D03           00244                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
0093   2897           00245                         goto    ST3_2_SALIDA    
0094   3004           00246                         movlw   .4; St4_SS
0095   00C1           00247                         movwf   NEXTSTATE
                      00248 
0096   01AA           00249 ST3_SALIDA      CLRF Contador_Tiempo
0097                  00250 ST3_2_SALIDA
0097   0008           00251                         return
                      00252 
                      00253 
                      00254 
                      00255 
                      00256 
                      00257 
                      00258 
                      00259 
                      00260 
                      00261 
0098   3042           00262 State4          movlw   b'01000010'
0099   00B0           00263                         movwf   OUT0
009A   0087           00264                         movwf   PORTC
009B   30A0           00265                         movlw   .160
009C   022A           00266                         subwf   Contador_Tiempo ,W
009D   1D03           00267                         btfss   STATUS, Z       ;Salta la siguiente linea si el acarreo es 0 (mayor o ig
                            ual)
009E   28A3           00268                         goto    COND_TIEMPO4_NO
009F   28A0           00269                         goto    COND_TIEMPO4_OK
00A0   300A           00270 COND_TIEMPO4_OK movlw .10 ;St10_FTS
00A1   00C1           00271                         movwf   NEXTSTATE
00A2   28B1           00272                         goto    ST4_SALIDA      ;Salgo
00A3   151F           00273 COND_TIEMPO4_NO bsf ADCON0, GO                          ;#######ComprobaciónADC
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (WAIT_FOR_ADC4)
00A4                  00274                         WAIT_FOR_ADC4:
00A4   191F           00275                                 btfsc   ADCON0, GO   ; Verificar si la conversión está en curso
00A5   28A4           00276                         goto    WAIT_FOR_ADC4
                      00277 
00A6   081E           00278                         movfw   ADRESH
00A7   00AB           00279                         movwf   ResultadoADC
                      00280 ;                       movwf   PORTB
00A8   30F0           00281                         movlw   b'11110000'
00A9   052B           00282                         andwf   ResultadoADC, W
00AA   00AB           00283                         movwf   ResultadoADC
00AB   30B0           00284                         movlw   b'10110000'
00AC   022B           00285                         subwf   ResultadoADC, W
00AD   1D03           00286                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
00AE   28B2           00287                         goto    ST4_2_SALIDA    
00AF   3005           00288                         movlw   .5; St5_OF
00B0   00C1           00289                         movwf   NEXTSTATE
                      00290 
00B1   01AA           00291 ST4_SALIDA      CLRF Contador_Tiempo
00B2                  00292 ST4_2_SALIDA
00B2   0008           00293                         return
                      00294 
                      00295 
                      00296 
                      00297 
00B3   3050           00298 State5          movlw   b'01010000'
00B4   00B0           00299                         movwf   OUT0
00B5   0087           00300                         movwf   PORTC
00B6   1E05           00301                         btfss   PORTA,4
00B7   28B9           00302                         goto    ST5_N1_NO
00B8   28BC           00303                         goto    ST5_N1_YES
00B9   3005           00304 ST5_N1_NO       movlw   St5_OF
00BA   00C1           00305                         movwf   NEXTSTATE
00BB   28BE           00306                         goto    S5_N1_SALIDA
00BC   3006           00307 ST5_N1_YES      movlw   .6; St6_RE
00BD   00C1           00308                         movwf   NEXTSTATE               
00BE   01AA           00309 S5_N1_SALIDA CLRF Contador_Tiempo
00BF   0008           00310                         return
                      00311 
                      00312 
                      00313 
                      00314 
00C0   3062           00315 State6          movlw   b'01100010'
00C1   00B0           00316                         movwf   OUT0
00C2   0087           00317                         movwf   PORTC
00C3   30F0           00318                         movlw   .240
00C4   022A           00319                         subwf   Contador_Tiempo ,W
00C5   1D03           00320                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
00C6   28CB           00321                         goto    COND_TIEMPO6_NO
00C7   28C8           00322                         goto    COND_TIEMPO6_OK
00C8   300A           00323 COND_TIEMPO6_OK movlw .10 ;St10_FTS
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00C9   00C1           00324                         movwf   NEXTSTATE
00CA   28D9           00325                         goto    ST6_SALIDA      ;Salgo
00CB   151F           00326 COND_TIEMPO6_NO bsf ADCON0, GO                          ;#######ComprobaciónADC
Warning[207]: Found label after column 1. (WAIT_FOR_ADC6)
00CC                  00327                         WAIT_FOR_ADC6:
00CC   191F           00328                                 btfsc   ADCON0, GO   ; Verificar si la conversión está en curso
00CD   28CC           00329                         goto    WAIT_FOR_ADC6
                      00330 
00CE   081E           00331                         movfw   ADRESH
00CF   00AB           00332                         movwf   ResultadoADC
                      00333 ;                       movwf   PORTB
00D0   30F0           00334                         movlw   b'11110000'
00D1   052B           00335                         andwf   ResultadoADC, W
00D2   00AB           00336                         movwf   ResultadoADC
00D3   30B0           00337                         movlw   b'10110000'
00D4   022B           00338                         subwf   ResultadoADC, W
00D5   1D03           00339                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
00D6   28DA           00340                         goto    ST6_2_SALIDA    
00D7   3007           00341                         movlw   .7; St7_EI
00D8   00C1           00342                         movwf   NEXTSTATE
00D9   01AA           00343 ST6_SALIDA      CLRF Contador_Tiempo
00DA                  00344 ST6_2_SALIDA
00DA   0008           00345                         return
                      00346 
00DB   3073           00347 State7          movlw   b'01110011'
00DC   00B0           00348                         movwf   OUT0
00DD   0087           00349                         movwf   PORTC
00DE   30A0           00350                         movlw   .160
00DF   022A           00351                         subwf   Contador_Tiempo ,W
00E0   1D03           00352                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
00E1   28E6           00353                         goto    COND_TIEMPO7_NO
00E2   28E3           00354                         goto    COND_TIEMPO7_OK
00E3   300A           00355 COND_TIEMPO7_OK movlw .10 ;St10_FTS
00E4   00C1           00356                         movwf   NEXTSTATE
00E5   28F4           00357                         goto    ST7_SALIDA      ;Salgo
00E6   151F           00358 COND_TIEMPO7_NO bsf ADCON0, GO                          ;#######ComprobaciónADC
Warning[207]: Found label after column 1. (WAIT_FOR_ADC7)
00E7                  00359                         WAIT_FOR_ADC7:
00E7   191F           00360                                 btfsc   ADCON0, GO   ; Verificar si la conversión está en curso
00E8   28E7           00361                         goto    WAIT_FOR_ADC7
                      00362                         
00E9   081E           00363                         movfw   ADRESH
00EA   00AB           00364                         movwf   ResultadoADC
                      00365 ;                       movwf   PORTB
00EB   30F0           00366                         movlw   b'11110000'
00EC   052B           00367                         andwf   ResultadoADC, W
00ED   00AB           00368                         movwf   ResultadoADC
00EE   30B0           00369                         movlw   b'10110000'
00EF   022B           00370                         subwf   ResultadoADC, W
00F0   1D03           00371                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00F1   28F5           00372                         goto    ST7_2_SALIDA    
00F2   3008           00373                         movlw   .8; St8_ES
00F3   00C1           00374                         movwf   NEXTSTATE
                      00375                         
00F4   01AA           00376 ST7_SALIDA      CLRF Contador_Tiempo
00F5                  00377 ST7_2_SALIDA
00F5   0008           00378                         return
                      00379 
00F6   3080           00380 State8          movlw   b'10000000'
00F7   00B0           00381                         movwf   OUT0
00F8   0087           00382                         movwf   PORTC
00F9   3000           00383                         movlw   b'00000000'
00FA   0086           00384                         movwf   PORTB
00FB   3050           00385                         movlw   .80
00FC   022A           00386                         subwf   Contador_Tiempo ,W
00FD   1D03           00387                         btfss   STATUS, Z               ;Salta la siguiente linea si el acarreo es 0 (ma
                            yor o igual)
00FE   2900           00388                         goto    ST8_N1_NO
00FF   2903           00389                         goto    ST8_N1_YES
0100   3008           00390 ST8_N1_NO       movlw   St8_ES
0101   00C1           00391                         movwf   NEXTSTATE
0102   2906           00392                         goto    ST_SALIDA       
0103   3009           00393 ST8_N1_YES      movlw   .9; St9_SL
0104   00C1           00394                         movwf   NEXTSTATE
0105   01AA           00395                         CLRF Contador_Tiempo
0106                  00396 ST_SALIDA       
0106   0008           00397                     return
                      00398 
0107   3090           00399 State9          movlw   b'10010000'
0108   00B0           00400                         movwf   OUT0
0109   0087           00401                         movwf   PORTC
010A   3000           00402                         movlw   b'00000000'
010B   0086           00403                         movwf   PORTB
010C   3009           00404                         movlw   .9; St9_SL
010D   00C1           00405                         movwf   NEXTSTATE
010E   0008           00406                     return
                      00407 
010F   30F0           00408 State10         movlw   b'11110000'
0110   00B0           00409                         movwf   OUT0
0111   0087           00410                         movwf   PORTC
0112   3000           00411                         movlw   b'00000000'
0113   0086           00412                         movwf   PORTB
0114   300A           00413                         movlw   .10; St10_FTS
0115   00C1           00414                         movwf   NEXTSTATE
0116   0008           00415                         return
                      00416 
                      00417 
0117                  00418 mostrar_numero:
0117   3000           00419         movlw b'00000000'
0118   022B           00420     subwf ResultadoADC, W
0119   1D03           00421     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
011A   291E           00422     goto probar_1
011B   303F           00423         movlw b'00111111' ; 0
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

011C   0086           00424     movwf PORTB ; Mostrar segmento A
011D   0008           00425     return
                      00426 
011E                  00427 probar_1
011E   3010           00428         movlw b'00010000'
011F   022B           00429     subwf ResultadoADC, W
0120   1D03           00430     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
0121   2925           00431     goto probar_2
0122   3006           00432     movlw b'00000110' ; 1
0123   0086           00433     movwf PORTB ; Mostrar segmentos B y C
0124   0008           00434         return
                      00435 
0125                  00436 probar_2
0125   3020           00437         movlw b'00100000'
0126   022B           00438     subwf ResultadoADC, W
0127   1D03           00439     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
0128   292C           00440     goto probar_3
0129   305B           00441     movlw b'01011011' ; 2
012A   0086           00442     movwf PORTB ; Mostrar segmentos A, B, G, E y D
012B   0008           00443         return
                      00444 
012C                  00445 probar_3
012C   3030           00446         movlw b'00110000'
012D   022B           00447     subwf ResultadoADC, W
012E   1D03           00448     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
012F   2933           00449     goto probar_4
0130   304F           00450     movlw b'01001111' ; 3
0131   0086           00451     movwf PORTB ; Mostrar segmentos A, B, C, D y G
0132   0008           00452         return
                      00453 
0133                  00454 probar_4
0133   3040           00455         movlw b'01000000'
0134   022B           00456     subwf ResultadoADC, W
0135   1D03           00457     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
0136   293A           00458     goto probar_5
0137   3066           00459     movlw b'01100110' ; 4
0138   0086           00460     movwf PORTB ; Mostrar segmentos F, B, C y G
0139   0008           00461         return
                      00462 
013A                  00463 probar_5
013A   3050           00464         movlw b'01010000'
013B   022B           00465     subwf ResultadoADC, W
013C   1D03           00466     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
013D   2941           00467     goto probar_6
013E   306D           00468     movlw b'01101101' ; 5
013F   0086           00469     movwf PORTB ; Mostrar segmentos A, F, C, D y G
0140   0008           00470         return
                      00471 
0141                  00472 probar_6
0141   3060           00473         movlw b'01100000'
0142   022B           00474     subwf ResultadoADC, W
0143   1D03           00475     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
0144   2948           00476     goto probar_7
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0145   307D           00477     movlw b'01111101' ; 6
0146   0086           00478     movwf PORTB ; Mostrar segmentos A, F, C, D, G y E
0147   0008           00479         return
                      00480 
0148                  00481 probar_7
0148   3070           00482         movlw b'01110000'
0149   022B           00483     subwf ResultadoADC, W
014A   1D03           00484     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
014B   294F           00485     goto probar_8
014C   3007           00486     movlw b'00000111' ; 7
014D   0086           00487     movwf PORTB ; Mostrar segmentos A, B y C
014E   0008           00488         return
                      00489 
014F                  00490 probar_8
014F   3080           00491         movlw b'10000000'
0150   022B           00492     subwf ResultadoADC, W
0151   1D03           00493     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
0152   2956           00494     goto probar_9
0153   307F           00495     movlw b'01111111' ; 8
0154   0086           00496     movwf PORTB ; Mostrar todos los segmentos
0155   0008           00497         return
0156                  00498 probar_9
0156   3090           00499         movlw b'10010000'
0157   022B           00500     subwf ResultadoADC, W
0158   1D03           00501     btfss STATUS, Z ;Salto la siguiente linea si el número coincide
0159   0008           00502         return
015A   306F           00503     movlw b'01101111' ; 9
015B   0086           00504     movwf PORTB ; Mostrar segmentos A, B, C, F y G
015C   0008           00505     return ; Retornar de la rutina
                      00506 ;###
                      00507 ;#################################
                      00508 ;#################################
                      00509 ;#################################
Warning[205]: Found directive in column 1. (end)
                      00510 end
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
CKE                               00000006
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
COND_TIEMPO2_NO                   0000006D
COND_TIEMPO2_OK                   0000006A
COND_TIEMPO3_NO                   00000088
COND_TIEMPO3_OK                   00000085
COND_TIEMPO4_NO                   000000A3
COND_TIEMPO4_OK                   000000A0
COND_TIEMPO6_NO                   000000CB
COND_TIEMPO6_OK                   000000C8
COND_TIEMPO7_NO                   000000E6
COND_TIEMPO7_OK                   000000E3
CREN                              00000004
CSRC                              00000007
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
Contador_Tiempo                   0000002A
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
D_NOT_A                           00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

I2C_STOP                          00000004
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
InterTMR0                         00000024
NEXTSTATE                         00000041
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OERR                              00000001
OPTION_REG                        00000081
OUT0                              00000030
OUT1                              00000031
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
ResultadoADC                      0000002B
S                                 00000003
S5_N1_SALIDA                      000000BE
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
ST0_N1                            00000049
ST0_N1_NO                         0000004F
ST0_N1_YES                        0000004C
ST0_SALIDA                        00000051
ST1_SALIDA                        00000061
ST2_2_SALIDA                      0000007C
ST2_SALIDA                        0000007B
ST3_2_SALIDA                      00000097
ST3_SALIDA                        00000096
ST4_2_SALIDA                      000000B2
ST4_SALIDA                        000000B1
ST5_N1_NO                         000000B9
ST5_N1_YES                        000000BC
ST6_2_SALIDA                      000000DA
ST6_SALIDA                        000000D9
ST7_2_SALIDA                      000000F5
ST7_SALIDA                        000000F4
ST8_N1_NO                         00000100
ST8_N1_YES                        00000103
STATE                             00000040
STATUS                            00000003
ST_SALIDA                         00000106
SYNC                              00000004
St0_CD                            00000000
St10_FTS                          0000000A
St1_FD                            0000000D
St1_N1_NO                         0000005B
St1_N1_YES                        0000005E
St2_EI                            00000002
St3_MQ                            00000003
St4_SS                            00000004
St5_OF                            00000005
St6_RE                            00000006
St7_EI                            00000007
St8_ES                            00000008
St9_SL                            00000009
State0                            00000046
State1                            00000053
State10                           0000010F
State2                            00000062
State3                            0000007D
State4                            00000098
State5                            000000B3
State6                            000000C0
State7                            000000DB
State8                            000000F6
State9                            00000107
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

TRISC6                            00000006
TRISC7                            00000007
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WAIT_FOR_ADC2                     0000006E
WAIT_FOR_ADC3                     00000089
WAIT_FOR_ADC4                     000000A4
WAIT_FOR_ADC6                     000000CC
WAIT_FOR_ADC7                     000000E7
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FFD
__16F876A                         00000001
MPASM  5.42             PROYECTO_STARSHIP.ASM   5-7-2024  18:02:45         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

__DEBUG                           1
break                             00000045
inicio                            00000005
loop                              00000023
mostrar_numero                    00000117
probar_1                          0000011E
probar_2                          00000125
probar_3                          0000012C
probar_4                          00000133
probar_5                          0000013A
probar_6                          00000141
probar_7                          00000148
probar_8                          0000014F
probar_9                          00000156


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXX--- ---------------- ----------------
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   346
Program Memory Words Free:  7846


Errors   :     0
Warnings :    28 reported,     0 suppressed
Messages :     6 reported,     0 suppressed

